<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">
    <title>Telegram Chat Interface</title>
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        html, body {
            height: 100dvh;
            margin: 0;
            padding: 0;
            overflow: hidden;
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
        }
        #root {
            height: 100dvh;
        }
        /* Placeholder for contentEditable */
        [contentEditable=true]:empty:before {
            content: attr(placeholder);
            color: #9ca3af;
            pointer-events: none;
            opacity: 0.7;
        }
    </style>
</head>
<body class="bg-gray-50">
    <div id="root"></div>

    <script type="text/babel">
        const { useEffect, useRef } = React;

        const ArrowLeft = () => (
            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
                <path d="m12 19-7-7 7-7"/>
                <path d="M19 12H5"/>
            </svg>
        );

        const MoreVertical = () => (
            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
                <circle cx="12" cy="12" r="1"/>
                <circle cx="12" cy="5" r="1"/>
                <circle cx="12" cy="19" r="1"/>
            </svg>
        );

        function TelegramHeader() {
            return (
                <div className="fixed top-0 left-0 right-0 bg-white shadow-sm z-50 pt-[env(safe-area-inset-top)]">
                    <div className="flex items-center justify-between px-3 py-2">
                        <button className="p-2 hover:bg-gray-100 rounded-full transition-colors">
                            <ArrowLeft />
                        </button>

                        <div className="flex items-center flex-1 mx-3">
                            <div className="w-11 h-11 rounded-full bg-orange-400 flex items-center justify-center flex-shrink-0">
                                <span className="text-white font-medium text-base">DS</span>
                            </div>
                            <div className="ml-3 flex-1 min-w-0">
                                <h1 className="text-gray-900 font-medium text-base leading-tight">Daddy Steve</h1>
                                <p className="text-gray-500 text-sm leading-tight">last seen within a week</p>
                            </div>
                        </div>

                        <button className="p-2 hover:bg-gray-100 rounded-full transition-colors">
                            <MoreVertical />
                        </button>
                    </div>

                    <div className="absolute left-1/2 transform -translate-x-1/2 z-10" style={{ bottom: '-30px' }}>
                        <div className="px-4 py-2 rounded-full flex items-center shadow-sm" style={{ 
                            backgroundColor: '#749cbf',
                            minHeight: '30px'
                        }}>
                            <span className="text-white text-xs font-medium" style={{ lineHeight: '1' }}>June 6</span>
                        </div>
                    </div>
                </div>
            );
        }

        function TelegramLayout() {
            const scrollRef = useRef(null);

            useEffect(() => {
                if (scrollRef.current) {
                    scrollRef.current.scrollTop = scrollRef.current.scrollHeight;
                }
            }, []);

            return (
                <div className="flex flex-col h-dvh bg-gray-50">
                    <TelegramHeader />

                    {/* Chat Area - Reduced bottom padding to bring messages closer to input */}
                    <div 
                        ref={scrollRef}
                        className="flex-1 overflow-y-auto pt-20 pb-16 px-4"  {/* pb-16 instead of pb-24 */}
                        style={{ 
                            backgroundImage: 'url(https://i.ibb.co/hxsGq3LC/Screenshot-20251105-115744.jpg)',
                            backgroundSize: 'cover',
                            backgroundPosition: 'center',
                            backgroundRepeat: 'no-repeat'
                        }}
                    >
                        <div className="flex flex-col justify-end min-h-full space-y-4 py-4">
                            <div className="flex justify-center">
                                <div className="px-4 py-2 rounded-full flex items-center shadow-sm" style={{ 
                                    backgroundColor: '#749cbf',
                                    minHeight: '30px'
                                }}>
                                    <span className="text-white text-xs font-medium" style={{ lineHeight: '1' }}>June 16</span>
                                </div>
                            </div>

                            <div className="flex items-end gap-2">
                                <div className="bg-white rounded-2xl rounded-bl-md px-4 py-2 shadow-sm max-w-xs">
                                    <div className="flex items-end gap-1">
                                        <span className="text-gray-900 text-base whitespace-nowrap">Bro</span>
                                        <span className="text-gray-400 text-xs ml-1">1:38 PM</span>
                                    </div>
                                </div>
                            </div>

                            <div className="flex items-end gap-2 justify-end">
                                <div className="rounded-2xl rounded-br-md px-4 py-2 shadow-sm max-w-xs" style={{ backgroundColor: '#5d7d99' }}>
                                    <div className="flex items-end gap-1">
                                        <span className="text-white text-base whitespace-nowrap">Hey</span>
                                        <div className="flex items-center gap-1 ml-1">
                                            <span className="text-blue-100 text-xs">1:39 PM</span>
                                            <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" className="w-4 h-4">
                                                <g clipPath="url(#clip0_949_23339)">
                                                    <path d="M17.5821 6.95711C17.9726 6.56658 17.9726 5.93342 17.5821 5.54289C17.1916 5.15237 16.5584 5.15237 16.1679 5.54289L5.54545 16.1653L1.70711 12.327C1.31658 11.9365 0.683417 11.9365 0.292893 12.327C-0.0976311 12.7175 -0.097631 13.3507 0.292893 13.7412L4.83835 18.2866C5.22887 18.6772 5.86204 18.6772 6.25256 18.2866L17.5821 6.95711Z" fill="#9ebad2"></path>
                                                    <path d="M23.5821 6.95711C23.9726 6.56658 23.9726 5.93342 23.5821 5.54289C23.1915 5.15237 22.5584 5.15237 22.1678 5.54289L10.8383 16.8724C10.4478 17.263 10.4478 17.8961 10.8383 18.2866C11.2288 18.6772 11.862 18.6772 12.2525 18.2866L23.5821 6.95711Z" fill="#9ebad2"></path>
                                                </g>
                                                <defs>
                                                    <clipPath id="clip0_949_23339">
                                                        <rect width="24" height="24" fill="white"></rect>
                                                    </clipPath>
                                                </defs>
                                            </svg>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    {/* Bottom Input - Taller, rounded, no icons */}
                    <div 
                        className="fixed bottom-0 left-0 right-0 z-40 pb-[env(safe-area-inset-bottom)]"
                        style={{
                            backgroundImage: 'url(https://i.ibb.co/hxsGq3LC/Screenshot-20251105-115744.jpg)',
                            backgroundSize: 'cover',
                            backgroundPosition: 'center',
                            backgroundRepeat: 'no-repeat',
                            paddingTop: '8px',
                            paddingBottom: '8px'
                        }}
                    >
                        <div className="mx-3">
                            <div 
                                className="bg-white shadow-sm flex items-center px-4 py-3"
                                style={{ 
                                    borderRadius: '8px',
                                    minHeight: '48px'  // Increased height
                                }}
                            >
                                <div 
                                    contentEditable="true"
                                    placeholder="Type to Message.."
                                    className="flex-1 outline-none text-gray-900 text-base"
                                    style={{
                                        minHeight: '24px',
                                        maxHeight: '100px',
                                        overflowY: 'auto'
                                    }}
                                ></div>
                            </div>
                        </div>
                    </div>
                </div>
            );
        }

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<TelegramLayout />);
    </script>
</body>
</html>
